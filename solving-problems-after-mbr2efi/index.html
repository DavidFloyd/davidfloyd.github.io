<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Solving problem after upgrading Windows 10 to EFI</title>
  <meta name="description" content="When I upgraded my Windows 10 installation to the Creators Update I wanted to take advantage of the new MBR2GPT.EXE tool. This tool allows you to upgrade your Windows 10 installation to EFI without having to reinstall or loosing any data. My motivation for moving to EFI installation was to be able to boot Windows 10 from Clover, the macOS bootloader in my hackintosh installation, making switching between Windows 10 and macOS easier without involving the BIOS boot menu.">
  <meta name="author" content="davidmacias"/>
  <meta name="generator" content="Hugo 0.21" />
<link rel="apple-touch-icon" sizes="57x57" href="../apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="manifest" href="../manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

  <link rel="alternate" href="../index.xml" type="application/rss+xml" title="Igor Kulman">

 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="../css/main.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />  

  
  
 
  
    <meta property="og:title" content="Solving problem after upgrading Windows 10 to EFI" />
  

  
    <meta property="og:description" content="When I upgraded my Windows 10 installation to the Creators Update I wanted to take advantage of the new MBR2GPT.EXE tool. This tool allows you to upgrade your Windows 10 installation to EFI without having to reinstall or loosing any data. My motivation for moving to EFI installation was to be able to boot Windows 10 from Clover, the macOS bootloader in my hackintosh installation, making switching between Windows 10 and macOS easier without involving the BIOS boot menu.
The upgrade from MBR to EFI went fine on both my desktop computer and my Thinkpad but there were a few thing that needed fixing afterwards.

Fixing broken Hyper-V On both my computer Hyper-V stopped working after the upgrade. When trying to run a Windows Phone emulator I just got an error message
Anyone seeing this after upgrading to Creators Update? No emulators work now. #Windows10 pic.twitter.com/MTzIlCHCw1
&amp;amp;mdash; Igor Kulman (@igorkulman) April 22, 2017 
Virtualization was still enabled in BIOS. I ran the CoreInfo tool and it told me virtualization is enabled but Hyper-V is disabled. So I uninstalled Hyper-V, restarted the computer and installed Hyper-V back. That fixed the problem.
Fixing broken hibernation On my Thinkpad, where I use sleep and hibernation (after 3 hours of sleep), there was another problem. Sleep still worked but waking up form hibernation was giving me a strange error message.
I could not find any other mention of it so I tried the obvious, I tried to repair the Windows bootloader using the Startup Repair functionality. It took some time and finished with some errors. But it definitely did something to the bootloader because a new partition appeared (probably the EFI partition) in Windows Explorer.
I hid the partition and try hibernation again and it worked without the error message. Maybe a lucky coincidence but the Startup Repair seems to have fixed it.
">
  

  <meta property="og:type" content="website" />

  
    <meta property="og:url" content="/solving-problems-after-mbr2efi" />
    <link rel="canonical" href="../solving-problems-after-mbr2efi" />
  

  
    <meta property="og:image" content="img/avatar-icon.png" />
  
  
  
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@davidmacias" />
  <meta name="twitter:creator" content="@davidmacias" />

  
    <meta name="twitter:title" content="Solving problem after upgrading Windows 10 to EFI" />
  

  
    <meta name="twitter:description" content="When I upgraded my Windows 10 installation to the Creators Update I wanted to take advantage of the new MBR2GPT.EXE tool. This tool allows you to upgrade your Windows 10 installation to EFI without having to reinstall or loosing any data. My motivation for moving to EFI installation was to be able to boot Windows 10 from Clover, the macOS bootloader in my hackintosh installation, making switching between Windows 10 and macOS easier without involving the BIOS boot menu.
The upgrade from MBR to EFI went fine on both my desktop computer and my Thinkpad but there were a few thing that needed fixing afterwards.

Fixing broken Hyper-V On both my computer Hyper-V stopped working after the upgrade. When trying to run a Windows Phone emulator I just got an error message
Anyone seeing this after upgrading to Creators Update? No emulators work now. #Windows10 pic.twitter.com/MTzIlCHCw1
&amp;amp;mdash; Igor Kulman (@igorkulman) April 22, 2017 
Virtualization was still enabled in BIOS. I ran the CoreInfo tool and it told me virtualization is enabled but Hyper-V is disabled. So I uninstalled Hyper-V, restarted the computer and installed Hyper-V back. That fixed the problem.
Fixing broken hibernation On my Thinkpad, where I use sleep and hibernation (after 3 hours of sleep), there was another problem. Sleep still worked but waking up form hibernation was giving me a strange error message.
I could not find any other mention of it so I tried the obvious, I tried to repair the Windows bootloader using the Startup Repair functionality. It took some time and finished with some errors. But it definitely did something to the bootloader because a new partition appeared (probably the EFI partition) in Windows Explorer.
I hid the partition and try hibernation again and it worked without the error message. Maybe a lucky coincidence but the Startup Repair seems to have fixed it.
">
  

  
    <meta name="twitter:image" content="img/avatar-icon.png" />
   

</head>


  <body>

    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="">Igor Kulman</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="../">Blog</a>
            </li>
          
        
          
            <li>
              <a title="Projects" href="../projects/">Projects</a>
            </li>
          
        
          
            <li>
              <a title="About me / contact" href="../about/">About me / contact</a>
            </li>
          
        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
          <a title="Igor Kulman" href="">
            <img class="avatar-img" src="../img/avatar-icon.png" alt="Igor Kulman" />
          </a>
        
      </div>
    </div>

  </div>
</nav>

    
  

  <header class="header-section ">
    
    <div class="intro-header no-img">
        <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-heading">
          <h1>Solving problem after upgrading Windows 10 to EFI</h1>
            

            
              <span class="post-meta">Posted on May 16, 2017</span>
            
        </div>
      </div>
    </div>
  </div>
    </div>
  </header>


    <div class="container" role="main">
      
        <div class="container">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>When I upgraded my Windows 10 installation to the Creators Update I wanted to take advantage of the new <code>MBR2GPT.EXE</code> tool. This tool allows you to upgrade your Windows 10 installation to EFI without having to reinstall or loosing any data. My motivation for moving to EFI installation was to be able to boot Windows 10 from Clover, the macOS bootloader in <a href="../my-experience-running-a-hackintosh">my hackintosh installation</a>, making switching between Windows 10 and macOS easier without involving the BIOS boot menu.</p>

<p>The upgrade from MBR to EFI went fine on both my desktop computer and my Thinkpad but there were a few thing that needed fixing afterwards.</p>

<p></p>

<h3 id="fixing-broken-hyper-v">Fixing broken Hyper-V</h3>

<p>On both my computer Hyper-V stopped working after the upgrade. When trying to run a Windows Phone emulator I just got an error message</p>

<p><blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Anyone seeing this after upgrading to Creators Update? No emulators work now.  <a href="https://twitter.com/hashtag/Windows10?src=hash">#Windows10</a> <a href="https://t.co/MTzIlCHCw1">pic.twitter.com/MTzIlCHCw1</a></p>&mdash; Igor Kulman (@igorkulman) <a href="https://twitter.com/igorkulman/status/855788447977672706">April 22, 2017</a></blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></p>

<p>Virtualization was still enabled in BIOS. I ran the <a href="http://technet.microsoft.com/en-us/sysinternals/cc835722">CoreInfo</a> tool and it told me virtualization is enabled but Hyper-V is disabled. So I uninstalled Hyper-V, restarted the computer and installed Hyper-V back. That fixed the problem.</p>

<h3 id="fixing-broken-hibernation">Fixing broken hibernation</h3>

<p>On my Thinkpad, where I use sleep and hibernation (after 3 hours of sleep), there was another problem. Sleep still worked but waking up form hibernation was giving me a <a href="https://social.technet.microsoft.com/Forums/windows/en-US/0bfbe8a7-2eb9-4432-a477-258ae7d102f9/boot-manager-recover-from-critical-error-some-essential-variables-are-absent-or-corrupted-and-boot?forum=win10itprosetup">strange error message</a>.</p>

<p>I could not find any other mention of it so I tried the obvious, I tried to repair the Windows bootloader using the Startup Repair functionality. It took some time and finished with some errors. But it definitely did something to the bootloader because a new partition appeared (probably the EFI partition) in Windows Explorer.</p>

<p>I hid the partition and try hibernation again and it worked without the error message. Maybe a lucky coincidence but the Startup Repair seems to have fixed it.</p>
      </article>

      <ul class="pager blog-pager">
        
          <li class="previous">
            <a href="../formatting-swift-code-in-xcode/" data-toggle="tooltip" data-placement="top" title="Formatting Swift code in XCode">&larr; Previous Post</a>
          </li>
        
        
          <li class="next">
            <a href="../resigning-ios-apps/" data-toggle="tooltip" data-placement="top" title="Re-signing iOS apps">Next Post &rarr;</a>
          </li>
        
      </ul>

       <div class="pure-g" style="margin-bottom:1em">

   <div class="pure-u-1-2">
   <p style="text-align:right">This content is open source. 
   Please <a href="https://github.com/igorkulman/coding-journal/edit/master/content/post/post%5c2017-05-16-solving-problems-after-mbr2efi.md" title="Help improve article post\2017-05-16-solving-problems-after-mbr2efi.md">help improve it</a>.</p>
  </div>
</div>

      
        
          <div class="disqus-comments">                  
            <button id="show-comments" class="btn btn-default" type="button">Show <span class="disqus-comment-count" data-disqus-url="solving-problems-after-mbr2efi">comments</span></button>
            <div id="disqus_thread"></div>

            <script type="text/javascript">
              var disqus_config = function () {
              this.page.url = 'solving-problems-after-mbr2efi';
            };

          </script>
          </div>
        
      

    </div>
  </div>
</div>

      
    </div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          <li>
            <a href="mailto:igor@kulman.sk" title="Email me">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          
          
          <li>
            <a href="https://github.com/davidmacias" title="GitHub">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          <li>
            <a href="https://twitter.com/davidmacias" title="Twitter">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          
          
          
          
          
          
          
          
          
          
          
          <li>
            <a href="../index.xml" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          davidmacias
          &nbsp;&bull;&nbsp;
          2017

          
            &nbsp;&bull;&nbsp;
            <a href="">Igor Kulman</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.21</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="../js/main.js"></script>
<script src="../js/gist.js"></script>

<script type="text/javascript">
$(function(){
  $('#show-comments').on('click', function(){
    var disqus_shortname = 'coudingjournal';

    (function() {
      var disqus = document.createElement('script'); 
      disqus.type = 'text/javascript'; 
      disqus.async = true;
      disqus.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(disqus);
    })();

    $(this).hide(); 
  });
});

</script>
<script id="dsq-count-scr" src="//coudingjournal.disqus.com/count.js" async></script>



<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-49528577-2', 'auto');
ga('send', 'pageview');
</script>



  </body>
</html>
