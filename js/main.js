var main={bigImgEl:null,numImgs:null,init:function(){$(window).scroll(function(){$(".navbar").offset().top>50?$(".navbar").addClass("top-nav-short"):$(".navbar").removeClass("top-nav-short")}),$("#main-navbar").on("show.bs.collapse",function(){$(".navbar").addClass("top-nav-expanded")}),$("#main-navbar").on("hidden.bs.collapse",function(){$(".navbar").removeClass("top-nav-expanded")}),$("#main-navbar").on("click",".navlinks-parent",function(a){var b=a.target;$.each($(".navlinks-parent"),function(a,c){c==b?$(c).parent().toggleClass("show-children"):$(c).parent().removeClass("show-children")})});var a=$(".navlinks-container");if(a.length>0){var b=$("#main-navbar ul"),c="<li class='fake-menu' style='display:none;'><a></a></li>";b.append(c);var d=$(".fake-menu");$.each(a,function(b){var e=($(a[b]).find(".navlinks-parent"),$(a[b]).find(".navlinks-children a")),f=[];$.each(e,function(a,b){f=f.concat($(b).text().trim().split(/\s+/))});var g=0;$.each(f,function(a,b){d.html("<a>"+b+"</a>");var c=d.width();c>g&&(g=c)}),$(a[b]).css("min-width",g+"px")}),d.remove()}main.initImgs()},initImgs:function(){if($("#header-big-imgs").length>0){main.bigImgEl=$("#header-big-imgs"),main.numImgs=main.bigImgEl.attr("data-num-img");var a=main.getImgInfo(),b=a.src,c=a.desc;main.setImg(b,c);var d=function(){var a=main.getImgInfo(),b=a.src,c=a.desc,e=new Image;e.src=b,setTimeout(function(){var a=$("<div></div>").addClass("big-img-transition").css("background-image","url("+b+")");$(".intro-header.big-img").prepend(a),setTimeout(function(){a.css("opacity","1")},50),setTimeout(function(){main.setImg(b,c),a.remove(),d()},1e3)},6e3)};main.numImgs>1&&d()}},getImgInfo:function(){var a=Math.floor(Math.random()*main.numImgs+1),b=main.bigImgEl.attr("data-img-src-"+a),c=main.bigImgEl.attr("data-img-desc-"+a);return{src:b,desc:c}},setImg:function(a,b){$(".intro-header.big-img").css("background-image","url("+a+")"),"undefined"!=typeof b&&b!==!1?$(".img-desc").text(b).show():$(".img-desc").hide()}};document.addEventListener("DOMContentLoaded",main.init);